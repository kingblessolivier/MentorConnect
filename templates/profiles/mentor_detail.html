{% extends 'base.html' %}
{% load static %}

{% block title %}{{ profile.user.get_full_name }} - Mentor Profile{% endblock %}

{% block extra_css %}
<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    :root {
        --primary: #3b82f6;
        --primary-light: #60a5fa;
        --primary-dark: #1e40af;
        --secondary: #8b5cf6;
        --secondary-light: #a78bfa;
        --success: #10b981;
        --success-light: #34d399;
        --warning: #f59e0b;
        --dark-bg: #0f172a;
        --dark-bg-2: #1e293b;
        --gray-50: #f9fafb;
        --gray-100: #f3f4f6;
        --gray-200: #e2e8f0;
        --gray-300: #cbd5e1;
        --gray-400: #94a3b8;
        --gray-500: #64748b;
        --gray-600: #475569;
        --gray-700: #334155;
        --gray-900: #0f172a;
        --white: #ffffff;
    }

    body {
        background: var(--gray-50);
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    }

    /* ========== HERO BANNER ========== */
    .hero-banner {
        background: linear-gradient(135deg, var(--dark-bg) 0%, var(--dark-bg-2) 100%);
        color: var(--white);
        padding: 3rem 2rem;
        margin-bottom: 3rem;
        position: relative;
        overflow: hidden;
    }

    .hero-banner::before {
        content: '';
        position: absolute;
        inset: 0;
        background:
            radial-gradient(circle at 20% 50%, rgba(59, 130, 246, 0.15) 0%, transparent 50%),
            radial-gradient(circle at 80% 50%, rgba(139, 92, 246, 0.1) 0%, transparent 50%),
            radial-gradient(circle at 50% 100%, rgba(16, 185, 129, 0.1) 0%, transparent 50%);
        z-index: 0;
    }

    .hero-content {
        max-width: 1400px;
        margin: 0 auto;
        display: grid;
        grid-template-columns: auto 1fr auto;
        gap: 3rem;
        align-items: start;
        position: relative;
        z-index: 1;
    }

    .mentor-avatar-large {
        width: 160px;
        height: 160px;
        border-radius: 1.5rem;
        border: 5px solid var(--white);
        object-fit: cover;
        box-shadow: 0 20px 40px rgba(0,0,0,0.4);
    }

    .hero-info h1 {
        font-size: 2.5rem;
        margin-bottom: 0.5rem;
        font-weight: 800;
        letter-spacing: -0.5px;
    }

    .hero-subtitle {
        font-size: 1.15rem;
        font-weight: 500;
        background: linear-gradient(135deg, var(--primary-light) 0%, var(--secondary-light) 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin-bottom: 1.5rem;
        opacity: 0.95;
    }

    .hero-meta {
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
        font-size: 0.95rem;
    }

    .hero-meta-item {
        display: flex;
        gap: 0.75rem;
        align-items: center;
        color: var(--gray-400);
    }

    .hero-meta-item svg {
        width: 18px;
        height: 18px;
        color: var(--primary-light);
        flex-shrink: 0;
    }

    .rating-card {
        background: var(--white);
        color: var(--gray-900);
        padding: 2rem;
        border-radius: 1.5rem;
        text-align: center;
        min-width: 160px;
        box-shadow: 0 20px 40px rgba(0,0,0,0.2);
        border: 1px solid var(--gray-200);
    }

    .rating-number {
        font-size: 3rem;
        font-weight: 800;
        background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        line-height: 1;
    }

    .rating-stars {
        color: var(--warning);
        font-size: 1.1rem;
        margin: 0.5rem 0;
        letter-spacing: 3px;
    }

    .rating-reviews {
        font-size: 0.85rem;
        color: var(--gray-500);
        font-weight: 600;
    }

    /* ========== MAIN CONTAINER ========== */
    .main-wrapper {
        max-width: 1400px;
        margin: 0 auto;
        padding: 0 2rem 3rem;
        display: grid;
        grid-template-columns: 1fr 350px;
        gap: 3rem;
    }

    /* ========== CARD STYLES ========== */
    .card {
        background: var(--white);
        border-radius: 1.25rem;
        padding: 2rem;
        box-shadow: 0 1px 3px rgba(0,0,0,0.08);
        margin-bottom: 2rem;
        border: 1px solid var(--gray-200);
        transition: all 0.3s ease;
    }

    .card:hover {
        box-shadow: 0 10px 30px rgba(0,0,0,0.12);
        border-color: var(--primary-light);
    }

    .card-header {
        display: flex;
        align-items: center;
        gap: 1rem;
        margin-bottom: 1.5rem;
        padding-bottom: 1.5rem;
        border-bottom: 2px solid var(--gray-200);
    }

    .card-header svg {
        width: 26px;
        height: 26px;
        color: var(--primary);
        flex-shrink: 0;
    }

    .card-header h2 {
        font-size: 1.35rem;
        font-weight: 700;
        color: var(--gray-900);
        margin: 0;
    }

    /* ========== CONTENT SECTIONS ========== */
    .section-text {
        color: var(--gray-700);
        line-height: 1.8;
        font-size: 0.95rem;
    }

    .tags-container {
        display: flex;
        flex-wrap: wrap;
        gap: 0.75rem;
    }

    .tag {
        display: inline-block;
        background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(139, 92, 246, 0.1));
        color: var(--primary);
        padding: 0.6rem 1.2rem;
        border-radius: 0.75rem;
        font-size: 0.9rem;
        font-weight: 600;
        border: 1px solid var(--primary);
        transition: all 0.3s ease;
    }

    .tag:hover {
        background: linear-gradient(135deg, var(--primary), var(--secondary));
        color: var(--white);
        border-color: transparent;
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(59, 130, 246, 0.3);
    }

    /* ========== STATS GRID ========== */
    .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
        gap: 1.5rem;
    }

    .stat-item {
        background: linear-gradient(135deg, rgba(59, 130, 246, 0.05), rgba(139, 92, 246, 0.05));
        padding: 1.5rem;
        border-radius: 1rem;
        text-align: center;
        border: 1px solid var(--gray-200);
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
    }

    .stat-item::before {
        content: '';
        position: absolute;
        inset: 0;
        background: linear-gradient(135deg, var(--primary-light), var(--secondary-light));
        opacity: 0;
        transition: opacity 0.3s;
    }

    .stat-item:hover {
        transform: translateY(-8px);
        box-shadow: 0 12px 30px rgba(59, 130, 246, 0.2);
        border-color: var(--primary);
    }

    .stat-item:hover::before {
        opacity: 0.1;
    }

    .stat-number {
        font-size: 2.2rem;
        font-weight: 800;
        background: linear-gradient(135deg, var(--primary), var(--secondary));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        position: relative;
        z-index: 1;
        line-height: 1;
    }

    .stat-label {
        font-size: 0.8rem;
        color: var(--gray-500);
        font-weight: 700;
        text-transform: uppercase;
        margin-top: 0.5rem;
        letter-spacing: 0.5px;
        position: relative;
        z-index: 1;
    }

    /* ========== INFO LIST ========== */
    .info-list {
        list-style: none;
        padding: 0;
    }

    .info-item {
        display: flex;
        gap: 1rem;
        padding: 1.25rem 0;
        border-bottom: 1px solid var(--gray-200);
        align-items: flex-start;
    }

    .info-item:last-child {
        border-bottom: none;
    }

    .info-icon {
        width: 22px;
        height: 22px;
        color: var(--primary);
        flex-shrink: 0;
        margin-top: 0.25rem;
    }

    .info-content {
        flex: 1;
    }

    .info-label {
        font-size: 0.8rem;
        font-weight: 700;
        color: var(--gray-500);
        text-transform: uppercase;
        letter-spacing: 0.5px;
        margin-bottom: 0.3rem;
    }

    .info-value {
        font-size: 1rem;
        color: var(--gray-900);
        font-weight: 500;
    }

    /* ========== REVIEW ITEMS ========== */
    .review-item {
        padding: 1.5rem;
        background: linear-gradient(135deg, rgba(96, 165, 250, 0.05), rgba(167, 139, 250, 0.05));
        border-radius: 1rem;
        margin-bottom: 1.25rem;
        border: 1px solid rgba(59, 130, 246, 0.2);
        border-left: 4px solid var(--primary);
    }

    .review-header {
        display: flex;
        gap: 1rem;
        margin-bottom: 1rem;
        align-items: flex-start;
    }

    .review-avatar {
        width: 48px;
        height: 48px;
        border-radius: 50%;
        object-fit: cover;
        border: 3px solid var(--white);
        box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }

    .review-author-info {
        flex: 1;
    }

    .review-author-name {
        font-weight: 700;
        color: var(--gray-900);
        font-size: 0.95rem;
    }

    .review-author-date {
        font-size: 0.8rem;
        color: var(--gray-500);
        margin-top: 0.2rem;
    }

    .review-rating {
        color: var(--warning);
        font-size: 0.9rem;
        white-space: nowrap;
    }

    .review-text {
        color: var(--gray-700);
        font-size: 0.95rem;
        line-height: 1.6;
    }

    /* ========== POST ITEMS ========== */
    .post-item {
        padding: 1.5rem;
        background: linear-gradient(135deg, rgba(245, 158, 11, 0.05), rgba(251, 146, 60, 0.05));
        border-radius: 1rem;
        margin-bottom: 1.25rem;
        border: 1px solid rgba(245, 158, 11, 0.2);
        border-left: 4px solid var(--warning);
        transition: all 0.3s ease;
    }

    .post-item:hover {
        transform: translateX(4px);
        box-shadow: 0 8px 20px rgba(245, 158, 11, 0.15);
        border-color: var(--warning);
    }

    .post-title {
        font-weight: 700;
        color: var(--gray-900);
        margin-bottom: 0.75rem;
        font-size: 1rem;
    }

    .post-excerpt {
        color: var(--gray-600);
        font-size: 0.9rem;
        margin-bottom: 0.75rem;
        line-height: 1.5;
    }

    .post-date {
        font-size: 0.8rem;
        color: var(--gray-500);
    }

    /* ========== SIDEBAR ========== */
    .sidebar {
        display: flex;
        flex-direction: column;
        gap: 2rem;
    }

    .sidebar-card {
        background: var(--white);
        border-radius: 1.25rem;
        padding: 1.75rem;
        box-shadow: 0 1px 3px rgba(0,0,0,0.08);
        border: 1px solid var(--gray-200);
        transition: all 0.3s ease;
    }

    .sidebar-card:hover {
        box-shadow: 0 8px 20px rgba(0,0,0,0.12);
        border-color: var(--primary-light);
    }

    .sidebar-title {
        font-size: 1.1rem;
        font-weight: 700;
        color: var(--gray-900);
        margin-bottom: 1.25rem;
    }

    /* ========== BUTTONS ========== */
    .btn {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.75rem;
        padding: 0.95rem 1.5rem;
        border: none;
        border-radius: 0.75rem;
        font-weight: 600;
        font-size: 0.95rem;
        cursor: pointer;
        transition: all 0.3s ease;
        text-decoration: none;
        width: 100%;
        margin-bottom: 0.75rem;
        text-align: center;
    }

    .btn-primary {
        background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
        color: var(--white);
        box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
    }

    .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(59, 130, 246, 0.4);
    }

    .btn-secondary {
        background: var(--gray-100);
        color: var(--gray-700);
        border: 2px solid var(--gray-300);
    }

    .btn-secondary:hover {
        background: var(--gray-200);
        border-color: var(--primary);
        color: var(--primary);
    }

    .btn-disabled {
        background: var(--gray-200);
        color: var(--gray-500);
        cursor: not-allowed;
        opacity: 0.6;
        pointer-events: none;
    }

    /* ========== SOCIAL LINKS ========== */
    .social-links {
        display: flex;
        gap: 0.75rem;
        flex-wrap: wrap;
    }

    .social-btn {
        width: 44px;
        height: 44px;
        border-radius: 0.75rem;
        background: var(--gray-100);
        border: 1px solid var(--gray-300);
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--primary);
        cursor: pointer;
        transition: all 0.3s ease;
        text-decoration: none;
    }

    .social-btn:hover {
        background: linear-gradient(135deg, var(--primary), var(--secondary));
        color: var(--white);
        border-color: transparent;
        transform: translateY(-3px);
        box-shadow: 0 8px 20px rgba(59, 130, 246, 0.3);
    }

    .social-btn svg {
        width: 20px;
        height: 20px;
    }

    /* ========== RESPONSIVE ========== */
    @media (max-width: 1024px) {
        .main-wrapper {
            grid-template-columns: 1fr;
        }

        .hero-content {
            grid-template-columns: 1fr;
            gap: 1.5rem;
        }
    }

    @media (max-width: 768px) {
        .hero-banner {
            padding: 2rem 1.5rem;
            margin-bottom: 2rem;
        }

        .main-wrapper {
            padding: 0 1.5rem 2rem;
            gap: 1.5rem;
        }

        .hero-content {
            grid-template-columns: auto 1fr;
            align-items: center;
        }

        .mentor-avatar-large {
            width: 120px;
            height: 120px;
        }

        .hero-info h1 {
            font-size: 1.5rem;
        }

        .hero-subtitle {
            font-size: 1rem;
        }

        .rating-card {
            justify-self: center;
            min-width: 140px;
            padding: 2rem 1.5rem;
        }

        .rating-number {
            font-size: 2.5rem;
        }

        .stats-grid {
            grid-template-columns: repeat(2, 1fr);
        }

        .card {
            padding: 1.5rem;
        }
    }

    @media (max-width: 480px) {
        .hero-banner {
            padding: 1.5rem 1rem;
        }

        .hero-content {
            grid-template-columns: 1fr;
            text-align: center;
            gap: 1rem;
        }

        .mentor-avatar-large {
            width: 100px;
            height: 100px;
            margin: 0 auto;
        }

        .hero-info h1 {
            font-size: 1.5rem;
        }

        .hero-subtitle {
            font-size: 0.95rem;
        }

        .hero-meta {
            align-items: center;
        }

        .hero-meta-item {
            justify-content: center;
        }

        .rating-card {
            grid-column: 1;
            padding: 1.5rem 1rem;
            margin-top: 1rem;
        }

        .rating-number {
            font-size: 2rem;
        }

        .rating-stars {
            font-size: 1rem;
            letter-spacing: 2px;
        }

        .main-wrapper {
            padding: 0 1rem 1.5rem;
        }

        .stats-grid {
            grid-template-columns: 1fr;
        }
    }
</style>
{% endblock %}

{% block content %}

<!-- HERO SECTION -->
<section class="hero-banner">
    <div class="hero-content">
        <!-- Avatar -->
        <div>
            <img src="{% if profile.user.avatar %}{{ profile.user.avatar.url }}{% else %}{% static 'images/default-avatar.svg' %}{% endif %}" alt="{{ profile.user.get_full_name }}" class="mentor-avatar-large">
        </div>

        <!-- Info -->
        <div class="hero-info">
            <h1>{{ profile.user.get_full_name }}</h1>
            <p class="hero-subtitle">{{ profile.headline|default:profile.expertise }}</p>
            <div class="hero-meta">
                {% if profile.company and profile.job_title %}
                <div class="hero-meta-item">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.256V20a1 1 0 01-1 1H4a1 1 0 01-1-1v-6.744m17-5V3a1 1 0 00-1-1H4a1 1 0 00-1 1v8.256" />
                    </svg>
                    <span>{{ profile.job_title }} at {{ profile.company }}</span>
                </div>
                {% endif %}
                {% if profile.experience_years %}
                <div class="hero-meta-item">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    <span>{{ profile.experience_years }} years of experience</span>
                </div>
                {% endif %}
                {% if profile.city %}
                <div class="hero-meta-item">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                    </svg>
                    <span>{{ profile.city }}{% if profile.country %}, {{ profile.country }}{% endif %}</span>
                </div>
                {% endif %}
            </div>
        </div>

        <!-- Rating Card -->
        <div class="rating-card">
            <div class="rating-number">{{ profile.rating|floatformat:1 }}</div>
            <div class="rating-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
            <div class="rating-reviews">{{ total_reviews }} reviews</div>
        </div>
    </div>
</section>

<!-- MAIN CONTENT -->
<div class="main-wrapper">
    <main>
        <!-- ABOUT SECTION -->
        {% if profile.bio %}
        <div class="card">
            <div class="card-header">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
                <h2>About</h2>
            </div>
            <p class="section-text">{{ profile.bio|linebreaks }}</p>
        </div>
        {% endif %}

        <!-- EXPERTISE & SKILLS -->
        {% if profile.expertise or profile.skills %}
        <div class="card">
            <div class="card-header">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5.36 4.24l-.707.707M5.05 6.05l.707-.707" />
                </svg>
                <h2>Expertise & Skills</h2>
            </div>
            {% if profile.expertise %}
            <div style="margin-bottom: 1.5rem;">
                <div class="info-label">Primary Expertise</div>
                <div style="color: var(--gray-900); font-weight: 600; font-size: 1rem;">{{ profile.expertise }}</div>
            </div>
            {% endif %}
            {% if profile.skills %}
            <div class="tags-container">
                {% for skill in profile.get_skills_list %}
                <span class="tag">{{ skill }}</span>
                {% endfor %}
            </div>
            {% endif %}
        </div>
        {% endif %}

        <!-- KEY STATISTICS -->
        <div class="card">
            <div class="card-header">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                </svg>
                <h2>Key Statistics</h2>
            </div>
            <div class="stats-grid">
                <div class="stat-item">
                    <div class="stat-number">{{ profile.experience_years|default:0 }}</div>
                    <div class="stat-label">Years Experience</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">{{ total_reviews|default:0 }}</div>
                    <div class="stat-label">Reviews</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">{{ completed_mentorships|default:0 }}</div>
                    <div class="stat-label">Completed</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">{{ active_mentees|default:0 }}</div>
                    <div class="stat-label">Active Mentees</div>
                </div>
            </div>
        </div>

        <!-- EDUCATION -->
        {% if profile.diploma or profile.educational_institution %}
        <div class="card">
            <div class="card-header">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C6.228 6.228 2 10.428 2 15.5c0 5.072 4.228 9.272 10 9.272s10-4.2 10-9.272c0-5.072-4.228-9.247-10-9.247z" />
                </svg>
                <h2>Education</h2>
            </div>
            <ul class="info-list">
                {% if profile.diploma %}
                <li class="info-item">
                    <svg class="info-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    <div class="info-content">
                        <div class="info-label">Degree</div>
                        <div class="info-value">{{ profile.diploma }}</div>
                    </div>
                </li>
                {% endif %}
                {% if profile.educational_institution %}
                <li class="info-item">
                    <svg class="info-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C6.228 6.228 2 10.428 2 15.5c0 5.072 4.228 9.272 10 9.272s10-4.2 10-9.272c0-5.072-4.228-9.247-10-9.247z" />
                    </svg>
                    <div class="info-content">
                        <div class="info-label">Institution</div>
                        <div class="info-value">{{ profile.educational_institution }}</div>
                    </div>
                </li>
                {% endif %}
            </ul>
        </div>
        {% endif %}

        <!-- MENTORSHIP DETAILS -->
        <div class="card">
            <div class="card-header">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z" />
                </svg>
                <h2>Mentorship Details</h2>
            </div>
            <ul class="info-list">
                <li class="info-item">
                    <svg class="info-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 01118 0z" />
                    </svg>
                    <div class="info-content">
                        <div class="info-label">Session Duration</div>
                        <div class="info-value">{{ profile.session_duration }} minutes</div>
                    </div>
                </li>
                {% if profile.min_internship_days %}
                <li class="info-item">
                    <svg class="info-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                    </svg>
                    <div class="info-content">
                        <div class="info-label">Observation Days</div>
                        <div class="info-value">{{ profile.min_internship_days }} - {{ profile.max_internship_days }} days</div>
                    </div>
                </li>
                {% endif %}
                <li class="info-item">
                    <svg class="info-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    <div class="info-content">
                        <div class="info-label">Hourly Rate</div>
                        <div class="info-value">{% if profile.hourly_rate > 0 %}${{ profile.hourly_rate }}/hour{% else %}Free Mentoring{% endif %}</div>
                    </div>
                </li>
            </ul>
        </div>

        <!-- SESSION TYPES -->
        {% if profile.accepts_in_person or profile.accepts_virtual %}
        <div class="card">
            <div class="card-header">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" />
                </svg>
                <h2>Session Types</h2>
            </div>
            <div class="tags-container">
                {% if profile.accepts_in_person %}<span class="tag">üìç In-Person Shadowing</span>{% endif %}
                {% if profile.accepts_virtual %}<span class="tag">üíª Virtual Sessions</span>{% endif %}
            </div>
        </div>
        {% endif %}

        <!-- REVIEWS -->
        {% if recent_reviews %}
        <div class="card">
            <div class="card-header">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z" />
                </svg>
                <h2>Student Reviews</h2>
            </div>
            {% for review in recent_reviews %}
            <div class="review-item">
                <div class="review-header">
                    <img src="{% if review.student.avatar %}{{ review.student.avatar.url }}{% else %}{% static 'images/default-avatar.svg' %}{% endif %}" alt="{{ review.student.get_full_name }}" class="review-avatar">
                    <div class="review-author-info">
                        <div class="review-author-name">{{ review.student.get_full_name }}</div>
                        <div class="review-author-date">{{ review.created_at|date:"M d, Y" }}</div>
                    </div>
                    <div class="review-rating">
                        {% for i in "12345" %}{% if forloop.counter <= review.rating %}‚òÖ{% else %}‚òÜ{% endif %}{% endfor %}
                    </div>
                </div>
                <p class="review-text">{{ review.comment }}</p>
            </div>
            {% endfor %}
        </div>
        {% endif %}

        <!-- POSTS -->
        {% if mentor_posts %}
        <div class="card">
            <div class="card-header">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v10a2 2 0 002 2a2 2 0 002-2V6a4 4 0 00-4-4H5a4 4 0 00-4 4v12a4 4 0 004 4h14a4 4 0 004-4z" />
                </svg>
                <h2>Latest Posts</h2>
            </div>
            {% for post in mentor_posts %}
            <div class="post-item">
                <div class="post-title">{{ post.title }}</div>
                <div class="post-excerpt">{{ post.content|truncatewords:20 }}</div>
                <div class="post-date">{{ post.created_at|date:"M d, Y" }}</div>
            </div>
            {% endfor %}
        </div>
        {% endif %}

    </main>

    <!-- SIDEBAR -->
    <aside class="sidebar">

        <!-- ACTION BUTTONS -->
        <div class="sidebar-card">
            {% if user.is_authenticated and user != profile.user %}
                {% if is_following %}
                <a href="{% url 'profiles:unfollow' profile.user.id %}" class="btn btn-secondary">‚úì Following</a>
                {% else %}
                <a href="{% url 'profiles:follow' profile.user.id %}" class="btn btn-secondary">+ Follow</a>
                {% endif %}

                {% if has_approved_request %}
                <button class="btn btn-disabled" disabled>‚úì Active Mentorship</button>
                {% elif has_pending_request %}
                <button class="btn btn-disabled" disabled>‚è≥ Request Pending</button>
                {% else %}
                <a href="{% url 'mentorship:create_request' profile.user.id %}" class="btn btn-primary">üìã Request Now</a>
                {% endif %}

                <a href="{% url 'chat:start' profile.user.id %}" class="btn btn-secondary">üí¨ Message</a>
            {% else %}
                <a href="{% url 'accounts:login' %}?next={{ request.path }}" class="btn btn-primary">üîê Sign In</a>
            {% endif %}
        </div>

        <!-- QUICK INFO -->
        <div class="sidebar-card">
            <div class="sidebar-title">Quick Info</div>
            <ul class="info-list">
                <li class="info-item">
                    <svg class="info-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    <div class="info-content">
                        <div class="info-label">Expertise</div>
                        <div class="info-value">{{ profile.expertise }}</div>
                    </div>
                </li>
                <li class="info-item">
                    <svg class="info-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.856-1.487M15 10h.01M11 10h.01M7 10h.01M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                    </svg>
                    <div class="info-content">
                        <div class="info-label">Mentees</div>
                        <div class="info-value">{{ active_mentees|default:0 }} Active</div>
                    </div>
                </li>
                <li class="info-item">
                    <svg class="info-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-2a6 6 0 0112 0v2zm0 0h6v-2a6 6 0 00-9-5.697M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    <div class="info-content">
                        <div class="info-label">Followers</div>
                        <div class="info-value">{{ followers_count|default:0 }}</div>
                    </div>
                </li>
            </ul>
        </div>

        <!-- SOCIAL LINKS -->
        {% if profile.linkedin_url or profile.twitter_url or profile.website_url or profile.github_url %}
        <div class="sidebar-card">
            <div class="sidebar-title">Connect</div>
            <div class="social-links">
                {% if profile.linkedin_url %}
                <a href="{{ profile.linkedin_url }}" target="_blank" rel="noopener noreferrer" class="social-btn" title="LinkedIn">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg>
                </a>
                {% endif %}
                {% if profile.twitter_url %}
                <a href="{{ profile.twitter_url }}" target="_blank" rel="noopener noreferrer" class="social-btn" title="Twitter">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2s9 5 20 5a9.5 9.5 0 00-9-5.5c4.75-2.35 6-7 6-7-2.72 2-5.66 2.46-9 1.24.79-1.31 4-4 9-4-1 .5-2 1.5-2 1.5z"/></svg>
                </a>
                {% endif %}
                {% if profile.website_url %}
                <a href="{{ profile.website_url }}" target="_blank" rel="noopener noreferrer" class="social-btn" title="Website">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" /></svg>
                </a>
                {% endif %}
                {% if profile.github_url %}
                <a href="{{ profile.github_url }}" target="_blank" rel="noopener noreferrer" class="social-btn" title="GitHub">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
                </a>
                {% endif %}
            </div>
        </div>
        {% endif %}

    </aside>
</div>
{% endblock %}